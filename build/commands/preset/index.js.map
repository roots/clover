{"version":3,"sources":["../src/hooks/useGenerators.js","../src/hooks/usePresets.js","../src/hooks/useConfig.js","../src/hooks/useData.js","../src/hooks/useSprout.js","../src/bud/compiler/helpers/index.js","../src/bud/compiler/index.js","../src/bud/config/index.js","../src/bud/data/index.js","../src/bud/util/command.js","../src/bud/util/index.js","../src/bud/pipes/actions.js","../src/bud/pipes/index.js","../src/bud/actions/addDependencies.js","../src/bud/actions/compile.js","../src/bud/actions/copy.js","../src/bud/actions/ensureDir.js","../src/bud/actions/ensureDirs.js","../src/bud/actions/git/clone.js","../src/bud/actions/git/index.js","../src/bud/actions/install.js","../src/bud/actions/json.js","../src/bud/actions/touch.js","../src/bud/actions/index.js","../src/bud/prettier/inferParser.js","../prettier.config.js","../src/bud/prettier/format.js","../src/bud/prettier/index.js","../src/bud/index.js","../src/hooks/useSubscription.js","../src/components/Banner.js","../src/components/Tasks.js","../src/App.js","preset/index.js"],"names":["cwd","process","fromMatches","matches","map","generator","name","path","basename","replace","useProjectGenerators","generators","setGenerators","checked","setChecked","useModuleGenerators","keyword","packages","plugin","dir","useGenerators","project","checkedProject","core","checkedCore","checkedPlugin","status","complete","useProjectPresets","presets","setPresets","useModulePresets","useConfig","configFile","config","require","useData","sprout","data","setData","prompts","then","makeSprout","budfile","makeTemplateDir","useSprout","templateDir","tasks","task","id","helpers","helper","fn","Array","prototype","slice","call","arguments","object","component","options","indexOf","inverse","components","hasInstance","forEach","makeCompiler","handlebars","registerHelpers","push","registerHelper","compiler","make","compile","makeConfig","projectDir","execa","makeData","key","value","command","cmd","makeUtil","actions","observer","props","pipe","Observable","subscribe","next","error","pipes","addDependencies","util","cmdStr","repo","dev","pkgs","join","exitCode","stderr","prettier","src","dest","template","parser","format","copy","ensureDir","fs","ensureDirs","dirs","clone","stdout","on","git","action","install","json","file","output","merge","err","console","log","touch","register","handle","callback","parsers","js","jsx","graphql","css","md","html","htm","ts","tsx","yml","yaml","less","inferParser","ext","split","length","module","exports","arrowParens","bracketSpacing","tabWidth","printWidth","singleQuote","jsxBracketSameLine","useTabs","trailingComma","semi","overrides","files","content","JSON","stringify","bud","registerActions","job","useSubscription","exit","subscription","setSubscription","setStatus","setComplete","unsubscribe","Banner","label","Tasks","toString","App","description","propTypes","PropTypes","string","propDefaults","Preset","inputArgs","selection","setSelection","corePresets","pluginPresets","projectPresets","presetsComplete","coreGenerators","pluginGenerators","projectGenerators","generatorsComplete","preset","match","filter","setPreset","generatorQueue","setGeneratorQueue","presetGenerators","buds","noResults","array"],"mappings":"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","file":"index.js","sourceRoot":"../../commands","sourcesContent":["import path from 'path'\nimport {useState, useEffect} from 'react'\nimport findPlugins from 'find-plugins'\nimport globby from 'globby'\n\nconst cwd = process.cwd()\n\n/**\n * Process globby matches into expected object\n */\nconst fromMatches = matches =>\n  matches.map(generator => ({\n    name: path.basename(generator).replace('.bud.js', ''),\n    path: generator,\n  }))\n\n/**\n * Generators sourced from project .bud dir\n */\nconst useProjectGenerators = () => {\n  const [generators, setGenerators] = useState([])\n  const [checked, setChecked] = useState(false)\n  useEffect(() => {\n    ;(async () => {\n      setChecked(false)\n\n      const matches = await globby([`${cwd}/.bud/budfiles/**/*.bud.js`])\n\n      setGenerators(fromMatches(matches))\n      setChecked(true)\n    })()\n  }, [])\n\n  return [generators, checked]\n}\n\n/**\n * Generators sourced from node_modules\n *\n * @param {string} keyword package.json keywords match\n */\nconst useModuleGenerators = keyword => {\n  const [generators, setGenerators] = useState([])\n  const [checked, setChecked] = useState(false)\n  useEffect(() => {\n    keyword &&\n      (async () => {\n        setChecked(false)\n\n        const packages = findPlugins({keyword}).map(plugin => `${plugin.dir}/**/*.bud.js`)\n\n        const matches = await globby(packages)\n\n        setGenerators(fromMatches(matches))\n        setChecked(true)\n      })()\n  }, [keyword])\n\n  return [generators, checked]\n}\n\n/**\n * useGenerators hook\n */\nconst useGenerators = () => {\n  const [project, checkedProject] = useProjectGenerators()\n  const [core, checkedCore] = useModuleGenerators('bud-core-generators')\n  const [plugin, checkedPlugin] = useModuleGenerators('bud-generators')\n\n  return {\n    project,\n    plugin,\n    core,\n    status: {\n      project: checkedProject,\n      plugin: checkedPlugin,\n      core: checkedCore,\n    },\n    complete: checkedCore && checkedProject && checkedPlugin,\n  }\n}\n\nexport default useGenerators\nexport {useProjectGenerators, useModuleGenerators}\n","import path from 'path'\nimport {useState, useEffect} from 'react'\nimport findPlugins from 'find-plugins'\nimport globby from 'globby'\n\nconst cwd = process.cwd()\n\n/**\n * Util: Format matched presets\n *\n * @param {array} matches\n * @return {array}\n */\nconst fromMatches = matches =>\n  matches.map(generator => ({\n    name: path.basename(generator).replace('.bud.js', ''),\n    path: generator,\n  }))\n\n/**\n * Presets sourced from project\n */\nconst useProjectPresets = () => {\n  const [presets, setPresets] = useState([])\n  const [checked, setChecked] = useState(false)\n  useEffect(() => {\n    ;(async () => {\n      setChecked(false)\n\n      const matches = await globby([\n        `${cwd}/.bud/budfiles/**/*-preset.bud.js`,\n      ])\n\n      setPresets(fromMatches(matches))\n      setChecked(true)\n    })()\n  }, [])\n\n  return [presets, checked]\n}\n\n/**\n * Presets sourced from node_modules\n *\n * @param {string} keyword package.json keywords match\n */\nconst useModulePresets = keyword => {\n  const [presets, setPresets] = useState([])\n  const [checked, setChecked] = useState(false)\n  useEffect(() => {\n    keyword &&\n      (async () => {\n        setChecked(false)\n\n        const packages = findPlugins({keyword}).map(\n          plugin => `${plugin.dir}/**/*-preset.bud.js`\n        )\n\n        const matches = await globby(packages)\n\n        setPresets(fromMatches(matches))\n        setChecked(true)\n      })()\n  }, [keyword])\n\n  return [presets, checked]\n}\n\n/**\n * useGenerators hook\n */\nconst useGenerators = () => {\n  const [project, checkedProject] = useProjectPresets()\n  const [core, checkedCore] = useModulePresets('bud-core-presets')\n  const [plugin, checkedPlugin] = useModulePresets('bud-preset')\n\n  return {\n    project,\n    plugin,\n    core,\n    status: {\n      project: checkedProject,\n      plugin: checkedPlugin,\n      core: checkedCore,\n    },\n    complete: checkedCore && checkedProject && checkedPlugin,\n  }\n}\n\nexport default useGenerators\nexport {useProjectPresets, useModulePresets}\n","import {join} from 'path'\nimport {existsSync} from 'fs-extra'\n\n/**\n * Use config\n */\nconst useConfig = cwd => {\n  const configFile = join(cwd, '.bud/bud.config.json')\n  const config = existsSync(configFile) ? require(configFile) : null\n\n  return {config}\n}\n\nexport default useConfig\n","import {useEffect, useState} from 'react'\nimport {prompt} from 'enquirer'\n\n/**\n * Use prompts\n */\nconst useData = sprout => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    if (sprout && !data) {\n      sprout.prompts ? prompt(sprout.prompts).then(data => setData(data)) : setData({})\n    }\n  }, [sprout])\n\n  return {data}\n}\n\nexport default useData\n","import {join, dirname} from 'path'\nimport {existsSync} from 'fs'\n\nconst makeSprout = budfile => (existsSync(budfile) ? require(budfile) : null)\nconst makeTemplateDir = budfile => join(dirname(budfile), 'templates')\n\n/**\n * Use Sprout\n */\nconst useSprout = budfile => {\n  const sprout = {\n    ...makeSprout(budfile),\n    templateDir: makeTemplateDir(budfile),\n  }\n\n  sprout.tasks = sprout.tasks.map((task, id) => ({...task, id}))\n\n  return {sprout}\n}\n\nexport default useSprout\n","/**\n * Templating helpers\n */\nconst helpers = data => [\n  {\n    helper: 'array',\n    fn: function () {\n      return Array.prototype.slice.call(arguments, 0, -1)\n    },\n  },\n  {\n    helper: 'has',\n    fn: function (object, component, options) {\n      if (data[object].indexOf(component) > -1) {\n        return options.fn(this)\n      }\n\n      return options.inverse(this)\n    },\n  },\n  {\n    helper: 'hasAny',\n    fn: function (object, components, options) {\n      let hasInstance = false\n\n      if (components) {\n        components.forEach(component => {\n          if (data[object].indexOf(component) > -1) {\n            hasInstance = true\n          }\n        })\n      }\n\n      return hasInstance ? options.fn(this) : options.inverse(this)\n    },\n  },\n  {\n    helper: 'raw',\n    fn: function (options) {\n      return options.fn()\n    },\n  },\n]\n\nexport default helpers\n","import handlebars from 'handlebars'\nimport helpers from './helpers'\nimport handlebarsHelpers from 'handlebars-helpers'\n\n/**\n * Compiler.\n *\n * @param {handlebars} handlebars\n */\nconst makeCompiler = ({sprout, data}) => {\n  handlebarsHelpers({handlebars})\n\n  sprout.registerHelpers &&\n    sprout.registerHelpers.forEach(helper => {\n      helpers.push(helper)\n    })\n\n  helpers(data).forEach(({helper, fn}) => {\n    handlebars.registerHelper(helper, fn)\n  })\n\n  return {\n    compiler: handlebars,\n\n    /**\n     * Make template.\n     *\n     * @param {string} path\n     */\n    make: function (path) {\n      return this.compiler.compile(path)\n    },\n  }\n}\n\nexport default makeCompiler\n","/**\n * Config\n *\n * @param {string} projectDir\n */\nconst makeConfig = ({projectDir, sprout: {templateDir}, config}) => ({\n  projectDir,\n  templateDir,\n  ...config,\n  execa: {\n    cwd: projectDir,\n  },\n})\n\nexport default makeConfig\n","/**\n * Make data\n *\n * @type   {func}\n * @prop   {object} data\n * @return {object}\n */\nconst makeData = ({config, data, sprout}) => {\n  const setData = ({key, value}) => {\n    data[key] = value\n  }\n\n  return {\n    ...(config ? config.project : []),\n    ...data,\n    ...(sprout.data ? sprout.data : []),\n    setData,\n  }\n}\n\nexport default makeData\n","import execa from 'execa'\n\n/**\n * Task runner\n *\n * @param  {object} config\n *\n * @return {func}\n */\nconst command = config => {\n  return cmd => execa.command(cmd, config.execa)\n}\n\nexport default command\n","import command from './command'\n\n/**\n * Make util\n *\n * @prop   {object} config\n * @return {object}\n */\nconst makeUtil = ({config}) => ({\n  command: command(config),\n})\n\nexport default makeUtil\n","import {Observable, from} from 'rxjs'\nimport {concatMap} from 'rxjs/operators'\n\n/**\n * Curried actions\n *\n * @prop {Observer} observer\n * @prop {object}   sprout\n * @prop {object}   task\n * @prop {object}   actionProps\n */\nconst actions = ({observer, sprout, actions, ...props}) => {\n  from(sprout.tasks)\n    .pipe(\n      concatMap(\n        task =>\n          new Observable(async observer => {\n            actions[task.task]({task, actions, observer, ...props})\n          }),\n      ),\n    )\n    .subscribe({\n      next: next => observer.next(next),\n      error: error => observer.error(error),\n      complete: () => observer.complete(),\n    })\n}\n\nexport default actions\n","import actions from './actions'\n\n/**\n * Make Pipes\n *\n * @return {object}\n */\nconst pipes = [actions]\n\nexport default pipes\n","/**\n * Action: Add dependencies\n *\n * @param  {object}   task\n * @param  {Observer} observer\n * @param  {object}   util\n *\n * @return {void}\n */\nconst addDependencies = async ({task, observer, util}) => {\n  const cmdStr = () => {\n    switch (task.repo) {\n      case 'npm':\n        return `yarn add ${task.dev ? `-D` : ``} ${task.pkgs.join(' ')}`\n      case 'packagist':\n        return `composer require ${task.pkgs.join(' ')} ${\n          task.dev ? `--development` : ``\n        }`\n      default:\n        observer.error(`Incorrect package repo specified.`)\n    }\n  }\n\n  observer.next(`Installating packages from ${task.repo}`)\n  const {command, exitCode, stderr} = await util.command(cmdStr())\n  command && observer.next(command)\n  exitCode == 0 ? observer.complete() : observer.error(stderr)\n}\n\nexport default addDependencies\n","import {join} from 'path'\nimport {outputFile, readFile} from 'fs-extra'\n\n/**\n * Action: template\n *\n * @param  {object}   task\n * @param  {Observer} observer\n * @param  {object}   data\n * @param  {object}   config\n * @param  {object}   util\n * @param  {object}   prettier\n * @param  {object}   compiler\n * @return {void}\n */\nconst compile = async ({task, observer, data, config, prettier, compiler}) => {\n  observer.next(`Write file: ${task.src}`)\n\n  const src = await readFile(join(config.templateDir, task.src), 'utf8')\n\n  const dest = compiler.make(task.dest)(data)\n  const template = compiler.make(src)(data)\n\n  observer.next(`Writing file ${dest}`)\n\n  await outputFile(\n    join(config.projectDir, dest),\n    task.parser ? prettier.format(template, task.parser) : template,\n  )\n\n  observer.complete()\n}\n\nexport default compile\n","import {join} from 'path'\nimport {copy as fsCopy} from 'fs-extra'\n\n/**\n * Action: copy\n *\n * @param  {object}   task\n * @param  {Observer} observer\n * @param  {object}   config\n *\n * @return {void}\n */\nconst copy = async ({task, observer, config}) => {\n  const src = join(config.templateDir, task.src)\n  const dest = join(config.projectDir, task.dest)\n\n  observer.next(`Copying file`)\n  await fsCopy(src, dest)\n\n  observer.complete()\n}\n\nexport default copy\n","import {join} from 'path'\nimport fs from 'fs-extra'\n\n/**\n * Make directory\n *\n * @param  {object}   task\n * @param  {Observer} observer\n * @param  {object}   config\n * @param  {object}   data\n * @param  {object}   compiler\n *\n * @return {void}\n */\nconst ensureDir = async ({task, observer, config, data, compiler}) => {\n  const path = join(config.projectDir, compiler.make(task.path)(data))\n  observer.next(`Writing directory ${path}`)\n  await fs.ensureDir(path)\n\n  observer.complete()\n}\n\nexport default ensureDir\n","import {Observable, from} from 'rxjs'\nimport {concatMap} from 'rxjs/operators'\n\n/**\n * Scaffold directories\n *\n * @prop   {task array} dirs\n * @return {Observable}\n */\nconst ensureDirs = ({task, observer, actions, config, data, compiler}) => {\n  from(task.dirs)\n    .pipe(\n      concatMap(\n        path =>\n          new Observable(observer => {\n            actions.ensureDir({\n              task: {path},\n              config,\n              data,\n              compiler,\n              observer,\n            })\n          }),\n      ),\n    )\n    .subscribe({\n      next: next => observer.next(next),\n      error: error => observer.error(error),\n      complete: () => observer.complete(),\n    })\n}\n\nexport default ensureDirs\n","/**\n * Action: git clone\n *\n * @prop {object}   task\n * @prop {Observer} observer\n * @prop {object}   util\n */\nconst clone = async ({observer, task, util}) => {\n  observer.next(`Cloning ${task.repo} to ${task.dest}`)\n\n  const clone = util.command(`git clone git@github.com:${task.repo} ${task.dest}`)\n\n  clone.stdout.on('data', () =>\n    observer.next(observer.next(`Cloning ${task.repo} to ${task.dest}}`)),\n  )\n\n  clone.then(() => observer.complete())\n}\n\nexport default clone\n","import clone from './clone'\n\n/**\n * Action: Github\n *\n * @prop   {object}   task\n * @prop   {Observer} observer\n * @prop   {object}   util\n */\nconst git = async ({task, observer, ...props}) => {\n  if (task.action == 'clone') {\n    clone({task, observer, ...props})\n  }\n}\n\nexport default git\n","/**\n * Action: Install from package files\n *\n * @prop   {object}   task\n * @prop   {Observer} observer\n * @prop   {object}   util\n *\n * @return {Observable}\n */\nconst install = async ({task, observer, util}) => {\n  const cmdStr = () => {\n    switch (task.repo) {\n      case 'npm':\n        return 'yarn'\n      case 'packagist':\n        return 'composer install'\n      default:\n        observer.error(`Incorrect package repo specified.`)\n    }\n  }\n\n  observer.next(`Installating packages from ${task.repo}`)\n  const {command, exitCode, stderr} = await util.command(cmdStr())\n  command && observer.next(command)\n  exitCode == 0 ? observer.complete() : observer.error(stderr)\n}\n\nexport default install\n","import {outputFile} from 'fs-extra'\n\n/**\n * Action: Manipulate project JSON\n *\n * @prop {object}   task\n * @prop {Observer} observer\n * @prop {Prettier} prettier\n */\nconst json = async function ({task, observer, prettier, config}) {\n  const json = require(`${config.projectDir}/${task.file}`)\n  observer.next(`Writing JSON to ${task.file}`)\n\n  try {\n    const output = task.merge(json)\n    await outputFile(`${config.projectDir}/${task.file}`, prettier.format(output, 'json'))\n\n    observer.complete()\n  } catch (err) {\n    console.log(`There was a problem writing to ${task.file}`)\n  }\n}\n\nexport default json\n","import {ensureFile} from 'fs-extra'\nimport {join} from 'path'\n\n/**\n * Action: Touch\n *\n * @prop   {object}   task\n * @prop   {object}   config\n * @prop   {object}   compiler\n * @prop   {object}   data\n * @prop   {Observer} observer\n */\nconst touch = async ({task, config, compiler, data, observer}) => {\n  const path = join(config.projectDir, compiler.make(task.path)(data))\n\n  try {\n    await ensureFile(path).then(() => {\n      observer.next()\n    })\n\n    observer.complete()\n  } catch (error) {\n    observer.error()\n  }\n}\n\nexport default touch\n","import addDependencies from './addDependencies'\nimport compile from './compile'\nimport copy from './copy'\nimport ensureDir from './ensureDir'\nimport ensureDirs from './ensureDirs'\nimport git from './git'\nimport install from './install'\nimport json from './json'\nimport touch from './touch'\n\n/**\n * Actions\n *\n * @type {object}\n */\nconst actions = {\n  addDependencies,\n  compile,\n  copy,\n  ensureDir,\n  ensureDirs,\n  git,\n  install,\n  json,\n  touch,\n  register: function ({action}) {\n    this[`${action.handle}`] = action.callback\n  },\n}\n\nexport default actions\n","/**\n * Prettier parsers.\n * @type {object}\n */\nconst parsers = {\n  js: 'babel',\n  jsx: 'babel',\n  graphql: 'graphql',\n  css: 'css',\n  json: 'json',\n  md: 'markdown',\n  html: 'html',\n  htm: 'html',\n  ts: 'typescript',\n  tsx: 'typescript',\n  yml: 'yaml',\n  yaml: 'yaml',\n  less: 'less',\n}\n\n/**\n * Infer parser.\n *\n * @type  {async func}\n * @param {string} file\n */\nconst inferParser = async function (file) {\n  const ext = file.split('.')[file.split('.').length - 1]\n\n  return parsers[`${ext}`] ?? null\n}\n\nexport default inferParser\n","module.exports = {\n  arrowParens: 'avoid',\n  bracketSpacing: false,\n  tabWidth: 2,\n  printWidth: 90,\n  singleQuote: true,\n  jsxBracketSameLine: true,\n  useTabs: false,\n  trailingComma: 'all',\n  semi: false,\n  overrides: [\n    {\n      files: ['*.md'],\n      options: {\n        parser: 'markdown',\n      },\n    },\n    {\n      files: ['*.json'],\n      options: {\n        parser: 'json',\n      },\n    },\n  ],\n}\n","import prettier from 'prettier'\nconst config = require('../../../prettier.config.js')\n\n/**\n * Format\n *\n * @type   {func}\n * @param  {object|string} content\n * @param  {parser} string\n * @return {string}\n */\nconst format = (content, parser) => {\n  content = typeof content !== 'string' ? JSON.stringify(content) : content\n\n  return prettier.format(content, {\n    ...config,\n    parser: parser || 'babel',\n  })\n}\n\nexport default format\n","import inferParser from './inferParser'\nimport format from './format'\n\n/**\n * Prettier\n */\nconst prettier = {\n  format,\n  inferParser,\n}\n\nexport default prettier\n","import {Observable, from} from 'rxjs'\nimport {concatMap} from 'rxjs/operators'\nimport makeCompiler from './compiler'\nimport makeConfig from './config'\nimport makeData from './data'\nimport makeUtil from './util'\nimport pipes from './pipes'\nimport actions from './actions'\nimport prettier from './prettier'\n\n/**\n * ğŸŒ± bud starter\n *\n * @prop {string} projectDir\n * @prop {object} config\n * @prop {object} data\n * @prop {object} sprout\n * @prop {string} templateDir\n * @prop {bool}   logging\n *\n * @return {Observable}\n */\nconst bud = props => {\n  const {sprout} = props\n  const config = makeConfig({...props})\n  const data = makeData({...props})\n  const util = makeUtil({config})\n  const compiler = makeCompiler({sprout, data})\n\n  sprout.registerActions &&\n    sprout.registerActions.forEach(action => {\n      actions.register({action})\n    })\n\n  return new Observable(observer => {\n    const props = {\n      config,\n      data,\n      actions,\n      compiler,\n      prettier,\n      util,\n      sprout,\n    }\n\n    from(pipes)\n      .pipe(\n        concatMap(\n          job =>\n            new Observable(async observer => {\n              await job({observer, ...props})\n            }),\n        ),\n      )\n\n      .subscribe({\n        next: next => {\n          observer.next(next)\n        },\n        error: error => {\n          observer.error(error)\n        },\n        complete: () => {\n          observer.complete()\n        },\n      })\n  })\n}\n\nexport default bud\n","import {useEffect, useState} from 'react'\nimport {useApp} from 'ink'\nimport bud from './../bud'\n\n/**\n * Use subscription.\n */\nconst useSubscription = ({config, data, projectDir, sprout}) => {\n  const {exit} = useApp()\n\n  const [subscription, setSubscription] = useState(false)\n  const [status, setStatus] = useState(null)\n  const [error] = useState(null)\n  const [complete, setComplete] = useState(false)\n\n  useEffect(() => {\n    if (sprout && data && !subscription) {\n      setSubscription(\n        bud({config, data, sprout, projectDir}).subscribe({\n          next: next => setStatus(next),\n          complete: () => setComplete(true),\n        }),\n      )\n    }\n  }, [data])\n\n  useEffect(() => {\n    complete &&\n      (() => {\n        subscription.unsubscribe()\n        exit()\n      })()\n  }, [complete])\n\n  return {status, error, complete}\n}\n\nexport default useSubscription\n","import React from 'react'\nimport {Box, Color, Text} from 'ink'\nimport Link from 'ink-link'\n\n/**\n * Banner component.\n *\n * @prop {string} label\n */\nconst Banner = ({label}) => (\n  <Box marginBottom={1} flexDirection=\"row\" justifyContent=\"space-between\">\n    {label && <Text>{label}</Text>}\n    <Box flexDirection=\"row\">\n      <Text>{`ğŸŒ±`}</Text>\n      <Text bold>\n        <Link url=\"https://roots.io/bud\">\n          <Color green>{'  Bud'}</Color>\n        </Link>\n      </Text>\n    </Box>\n  </Box>\n)\n\nexport default Banner\n","import React from 'react'\nimport {Box, Color, Text} from 'ink'\nimport Spinner from 'ink-spinner'\n\n/**\n * Tasks\n *\n * @prop {object} status\n * @prop {object} sprout\n * @prop {bool}   complete\n */\nconst Tasks = ({status, complete}) => {\n  if (complete) {\n    return (\n      <Text>\n        <Color green>ğŸ{'  '}Done</Color>\n      </Text>\n    )\n  }\n\n  if (!status) {\n    return []\n  }\n\n  return !complete ? (\n    <Box>\n      {status && (\n        <Text>\n          <Color green>\n            <Spinner />\n          </Color>{' '}\n          {status.toString()}\n        </Text>\n      )}\n    </Box>\n  ) : (\n    []\n  )\n}\n\nexport default Tasks\n","import React from 'react'\nimport {Box} from 'ink'\nimport PropTypes from 'prop-types'\n\nimport useConfig from './hooks/useConfig'\nimport useData from './hooks/useData'\nimport useSprout from './hooks/useSprout'\nimport useSubscription from './hooks/useSubscription'\n\nimport Banner from './components/Banner'\nimport Tasks from './components/Tasks'\n\n/** Suppress unhandled rejections */\nprocess.on('unhandledRejection', () => null)\n\n/**\n * Bud application\n *\n * @prop {string} budfile\n * @prop {string} output\n */\nconst App = ({budfile, output}) => {\n  const {config} = useConfig(process.cwd())\n  const {sprout} = useSprout(budfile)\n  const {data} = useData(sprout)\n  const {status, complete} = useSubscription({\n    config,\n    data,\n    sprout,\n    projectDir: output ? output : process.cwd(),\n  })\n\n  return (\n    <Box\n      width=\"103\"\n      flexDirection=\"column\"\n      justifyContent=\"flex-start\"\n      paddingTop={1}\n      paddingBottom={1}>\n      <Banner label={sprout.description || 'Bud: scaffolding utility'} />\n      <Tasks status={status} sprout={sprout} complete={complete} />\n    </Box>\n  )\n}\n\nApp.propTypes = {\n  budfile: PropTypes.string,\n}\n\nApp.propDefaults = {\n  output: null,\n}\n\nexport default App\n","import React, {useEffect, useState} from 'react'\nimport {Box, Text, Color} from 'ink'\nimport PropTypes from 'prop-types'\nimport QuickSearchInput from 'ink-quicksearch-input'\n\nimport useGenerators from '../../src/hooks/useGenerators'\nimport usePresets from '../../src/hooks/usePresets'\n\nimport App from '../../src/App'\n\n/** Command: bud preset */\n/// Run a preset.\nconst Preset = ({inputArgs}) => {\n  const [name] = useState(inputArgs[1] ?? null)\n  const [selection, setSelection] = useState(null)\n\n  /**\n   * All resolvable presets\n   */\n  const {\n    core: corePresets,\n    plugin: pluginPresets,\n    project: projectPresets,\n    complete: presetsComplete,\n  } = usePresets()\n\n  /**\n   * All resolvable generators\n   */\n  const {\n    core: coreGenerators,\n    plugin: pluginGenerators,\n    project: projectGenerators,\n    complete: generatorsComplete,\n  } = useGenerators()\n\n  /**\n   * Format generator results\n   */\n  const [generators, setGenerators] = useState(null)\n  useEffect(() => {\n    generatorsComplete && setGenerators([\n      ...projectGenerators,\n      ...pluginGenerators,\n      ...coreGenerators,\n    ].map(generator => ({\n      value: generator.path,\n      label: generator.name,\n    })))\n  }, [generatorsComplete])\n\n  /**\n   * Format preset results\n   */\n  const [presets, setPresets] = useState(null)\n  useEffect(() => {\n    presetsComplete && setPresets([\n      ...projectPresets,\n      ...pluginPresets,\n      ...corePresets,\n    ].map(preset => ({\n      value: preset.path,\n      label: preset.name,\n    })))\n  }, [presetsComplete])\n\n  /**\n   * Resolve preset if one was passed via CLI\n   */\n  useEffect(() => {\n    if (name && presets && presetsComplete) {\n      const match = presets.filter(preset =>\n        preset.label == name\n      )\n\n      setSelection(match[0])\n    }\n  }, [presetsComplete, presets, name])\n\n  /**\n   * From a selection (either by argument or interface)\n   * Source the preset data.\n   */\n  const [preset, setPreset] = useState(null)\n  useEffect(() => {\n    selection && !preset && setPreset({\n      ...selection,\n      data: require(selection.value),\n    })\n  }, [selection])\n\n  /**\n   * Filter generators based on specs of selected preset\n   */\n  const [generatorQueue, setGeneratorQueue] = useState([])\n  useEffect(() => {\n    if (preset && generatorsComplete) {\n      const presetGenerators = generators.filter(generator =>\n        preset.data.buds[`${generator.name}`]\n      )\n\n      setGeneratorQueue(presetGenerators)\n    }\n  }, [preset, generatorsComplete])\n\n  const noResults = presetsComplete && (!presets || !presets.length > 0)\n\n  return (\n    <Box>\n      {noResults && <Text><Color red>No presets found</Color></Text>}\n\n      {!name && !selection && presets?.length > 0 && (\n        <QuickSearchInput\n          label=\"Select a preset\"\n          items={presets}\n          onSelect={selection => setSelection(selection)}\n        />\n      )}\n\n      {generatorQueue.length > 0 &&\n        <App queue={generatorQueue} />\n      }\n    </Box>\n  )\n}\n\nPreset.propTypes = {\n  inputArgs: PropTypes.array,\n}\n\nexport default Preset\n"]}